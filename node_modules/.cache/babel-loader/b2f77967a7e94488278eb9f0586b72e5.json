{"ast":null,"code":"import _toConsumableArray from\"/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import{Button,ButtonGroup,Container,Table}from'reactstrap';import AppNavbar from'./AppNavBar';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FoodList=/*#__PURE__*/function(_Component){_inherits(FoodList,_Component);var _super=_createSuper(FoodList);function FoodList(props){var _this;_classCallCheck(this,FoodList);_this=_super.call(this,props);_this.state={food:[]};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(FoodList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/food').then(function(response){return response.json();}).then(function(data){return _this2.setState({food:data});});}},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var _this3=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/food/'+id,{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){var withoutDeleted=_toConsumableArray(_this3.state.food).filter(function(item){return item.id!==id;});_this3.setState({food:withoutDeleted});});case 2:case\"end\":return _context.stop();}}},_callee);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"removeAll\",value:function(){var _removeAll=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this4=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('/food/',{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){_this4.setState({food:[]});});case 2:case\"end\":return _context2.stop();}}},_callee2);}));function removeAll(){return _removeAll.apply(this,arguments);}return removeAll;}()},{key:\"render\",value:function render(){var _this5=this;var food=this.state.food;var foodList=food.map(function(foodItem){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{whiteSpace:'nowrap'},children:foodItem.description}),/*#__PURE__*/_jsx(\"td\",{children:foodItem.calories}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"primary\",tag:Link,to:\"/food/\"+foodItem.id,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"danger\",onClick:function onClick(){return _this5.remove(foodItem.id);},children:\"Delete\"})]})})]},foodItem.id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",tag:Link,to:\"/food/new\",children:\"Add Client\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Clients\"}),/*#__PURE__*/_jsxs(Table,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"th\",{width:\"40%\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:foodList})]})]})]});}}]);return FoodList;}(Component);export default FoodList;","map":{"version":3,"sources":["/home/oem/UniversityProjects/MIPT/FullStack/Project/demo/app/src/FoodList.js"],"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","FoodList","props","state","food","remove","bind","fetch","then","response","json","data","setState","id","method","headers","withoutDeleted","filter","item","foodList","map","foodItem","whiteSpace","description","calories"],"mappings":"2pCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,WAAjB,CAA8BC,SAA9B,CAAyCC,KAAzC,KAAsD,YAAtD,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,2FAEMC,CAAAA,Q,oGAEF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,IAAI,CAAE,EAAR,CAAb,CACA,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,+BAAd,CAHe,aAIlB,C,sDAED,4BAAoB,iBAChBC,KAAK,CAAC,OAAD,CAAL,CACKC,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAI,CAAA,MAAI,CAACC,QAAL,CAAc,CAAER,IAAI,CAAEO,IAAR,CAAd,CAAJ,EAFd,EAGH,C,qGAED,iBAAaE,EAAb,wJACUN,CAAAA,KAAK,CAAC,SAAWM,EAAZ,CAAgB,CACvBC,MAAM,CAAE,QADe,CAEvBC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFc,CAAhB,CAAL,CAMHP,IANG,CAME,UAAM,CACV,GAAIQ,CAAAA,cAAc,CAAG,mBAAI,MAAI,CAACb,KAAL,CAAWC,IAAf,EAAqBa,MAArB,CAA4B,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACL,EAAL,GAAYA,EAAhB,EAAhC,CAArB,CACA,MAAI,CAACD,QAAL,CAAc,CAAER,IAAI,CAAEY,cAAR,CAAd,EACH,CATK,CADV,uD,yLAaA,+KACUT,CAAAA,KAAK,CAAC,QAAD,CAAW,CAClBO,MAAM,CAAE,QADU,CAElBC,OAAO,CAAE,CACL,SAAU,kBADL,CAEL,eAAgB,kBAFX,CAFS,CAAX,CAAL,CAMHP,IANG,CAME,UAAM,CACV,MAAI,CAACI,QAAL,CAAc,CAAER,IAAI,CAAE,EAAR,CAAd,EACH,CARK,CADV,yD,2GAYA,iBAAS,iBACL,GAAQA,CAAAA,IAAR,CAAiB,KAAKD,KAAtB,CAAQC,IAAR,CAEA,GAAMe,CAAAA,QAAQ,CAAGf,IAAI,CAACgB,GAAL,CAAS,SAAAC,QAAQ,CAAI,CAClC,mBAAO,mCACH,WAAI,KAAK,CAAE,CAAEC,UAAU,CAAE,QAAd,CAAX,UAAsCD,QAAQ,CAACE,WAA/C,EADG,cAEH,oBAAKF,QAAQ,CAACG,QAAd,EAFG,cAGH,iCACI,MAAC,WAAD,yBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,IAAb,CAAkB,KAAK,CAAC,SAAxB,CAAkC,GAAG,CAAExB,IAAvC,CAA6C,EAAE,CAAE,SAAWqB,QAAQ,CAACR,EAArE,kBADJ,cAEI,KAAC,MAAD,EAAQ,IAAI,CAAC,IAAb,CAAkB,KAAK,CAAC,QAAxB,CAAiC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACR,MAAL,CAAYgB,QAAQ,CAACR,EAArB,CAAN,EAA1C,oBAFJ,GADJ,EAHG,GAASQ,QAAQ,CAACR,EAAlB,CAAP,CAUH,CAXgB,CAAjB,CAaA,mBACI,oCACI,KAAC,SAAD,IADJ,cAEI,MAAC,SAAD,EAAW,KAAK,KAAhB,wBACI,YAAK,SAAS,CAAC,aAAf,uBACI,KAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,GAAG,CAAEb,IAA7B,CAAmC,EAAE,CAAC,WAAtC,wBADJ,EADJ,cAII,+BAJJ,cAKI,MAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,wBACI,oCACI,mCACI,WAAI,KAAK,CAAC,KAAV,yBADJ,cAEI,WAAI,KAAK,CAAC,KAAV,sBAFJ,cAGI,WAAI,KAAK,CAAC,KAAV,qBAHJ,GADJ,EADJ,cAQI,uBACKmB,QADL,EARJ,GALJ,GAFJ,GADJ,CAuBH,C,sBA9EkBzB,S,EAgFvB,cAAeO,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\nimport AppNavbar from './AppNavBar';\nimport { Link } from 'react-router-dom';\n\nclass FoodList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { food: [] };\n        this.remove = this.remove.bind(this);\n    }\n\n    componentDidMount() {\n        fetch('/food')\n            .then(response => response.json())\n            .then(data => this.setState({ food: data }));\n    }\n\n    async remove(id) {\n        await fetch('/food/' + id, {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(() => {\n            let withoutDeleted = [...this.state.food].filter(item => item.id !== id);\n            this.setState({ food: withoutDeleted });\n        });\n    }\n\n    async removeAll() {\n        await fetch('/food/', {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(() => {\n            this.setState({ food: [] });\n        });\n    }\n\n    render() {\n        const { food } = this.state;\n\n        const foodList = food.map(foodItem => {\n            return <tr key={foodItem.id}>\n                <td style={{ whiteSpace: 'nowrap' }}>{foodItem.description}</td>\n                <td>{foodItem.calories}</td>\n                <td>\n                    <ButtonGroup>\n                        <Button size=\"sm\" color=\"primary\" tag={Link} to={\"/food/\" + foodItem.id}>Edit</Button>\n                        <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(foodItem.id)}>Delete</Button>\n                    </ButtonGroup>\n                </td>\n            </tr>\n        });\n\n        return (\n            <div>\n                <AppNavbar />\n                <Container fluid>\n                    <div className=\"float-right\">\n                        <Button color=\"success\" tag={Link} to=\"/food/new\">Add Client</Button>\n                    </div>\n                    <h3>Clients</h3>\n                    <Table className=\"mt-4\">\n                        <thead>\n                            <tr>\n                                <th width=\"30%\">Description</th>\n                                <th width=\"30%\">Calories</th>\n                                <th width=\"40%\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {foodList}\n                        </tbody>\n                    </Table>\n                </Container>\n            </div>\n        );\n    }\n}\nexport default FoodList;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}